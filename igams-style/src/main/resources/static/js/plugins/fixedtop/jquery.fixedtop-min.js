(function(a){a.bootui=a.bootui||{};a.bootui.widget=a.bootui.widget||{};a.bootui.widget.FixedTop=function(c,b){b.beforeRender.call(this,c);try{this.initialize.call(this,c,b)}catch(d){b.errorRender.call(this,d)}b.afterRender.call(this,c)};a.bootui.widget.FixedTop.prototype={constructor:a.bootui.widget.FixedTop,initialize:function(f,i){if(i.container&&a(i.container).size()==0){throw new Error("Container is not a valid element!")}var j=this;j.$element=a(f);j.options=i;function o(x){do{x+=~~(Math.random()*1000000)}while(document.getElementById(x));return x}var d=o(i.prefix);j.fixedtop_uid=d;j.prefix=i.prefix;var v=a(f).closest("div.bootbox");j.container=i.container?a(i.container):(a(v).size()>0?a(v).find("div.modal-body"):window);var k=a(v).size()>0?a(v).find("div.modal-body"):document.body;var c=a(v).size()>0?(parseInt(v.css("z-index")||"1050")+90):1010;var u=a.isWindow(j.container);var m=a(j.container)[0].tagName?a(j.container)[0].tagName.toLowerCase()=="body":false;var w=a.extend(true,{},{position:(u?"fixed":"relative"),"z-index":parseInt(i.z_index||c),padding:(u||m)?"0px":" 0px 8px"});var l=a(i.template);l[0].id=d;function g(){var y=a.Deferred();j.containerPosi=a(j.container).getPosition();j.containerRect=a(j.container).getBoundingRect();j.elementPosi=a(f).getPosition();var z=j.containerRect["padding-left"];var x=j.containerRect["padding-right"];a(f).css(a.extend(true,w,{width:u?a(window).width():(j.containerPosi.width-z-x-j.containerPosi.border)}));return y.promise()}g();var h=j.containerRect["margin-top"];var s=h+a(f).outerHeight()*3/2;if(u){s+=Math.abs(Math.abs(j.elementPosi.top)-Math.abs(j.containerPosi.top))}var e=j.containerPosi.scrollTop;var p=i.animateDelay!=0?(i.animateDelay||200):0;function b(){var y=a.Deferred();if(!u){a(f).css({top:(e-h)+"px"})}if(e>=s){var x=a("#"+fixed_uid);if(x.size()==0){a(f).wrap(l)}a(l).fadeIn(p)}else{a(l).fadeOut(p);a(f).unwrap()}return y.promise()}if(e>=s){b()}var q=false;var r=i.scrollDelay!=0?(i.scrollDelay||100):0;j.scrollFunc=function(x){if(!q){j.scrollEvent=x;window.setTimeout(function(){e=a(this).scrollTop();scrollLeft=a(this).scrollLeft();q=true},Math.abs(r-10))}};a(j.container).scroll(j.scrollFunc);j.scrollTimer=window.setInterval(function(){if(q){a.when(b()).done(function(){q=false;(i.onScroll||a.noop).call(this,j.scrollEvent)}).always(function(){})}},r);var t=false;var n=i.resizeDelay!=0?(i.resizeDelay||200):0;j.resizeFunc=function(x){if(!t){window.setTimeout(function(){t=true;j.resizeEvent=x},Math.abs(n-10))}};a(j.container).resize(j.resizeFunc);j.resizeTimer=window.setInterval(function(){if(t){a.when(g(),b()).done(function(){t=false;(i.onResize||a.noop).call(this,j.resizeEvent)}).always(function(){})}},n)},destroy:function(){var b=a.isWindow(this.container);a(this.container).unbind("scroll",this.scrollFunc);window.clearInterval(this.scrollTimer);a(this.container).unbind("resize",this.resizeFunc);window.clearInterval(this.resizeTimer);this.$element.off("."+this.prefix).removeData(this.prefix+".widget");a(document.getElementById(this.fixed_uid)).remove()},setDefaults:function(b){a.extend(a.fn.tooltips.defaults,b)},getDefaults:function(b){return a.fn.tooltips.defaults}};a.fn.fixedtop=function(c){var b=a.grep(arguments||[],function(e,d){return d>=1});return this.each(function(){var f=a(this);var e=a.data(f,"fixedtop.widget");if(!e&&c=="destroy"){return}if(!e){var d=a.extend({},a.fn.fixed.defaults,f.data(),((typeof c=="object"&&c)?c:{}));f.data(d.prefix+".widget",(e=new a.bootui.widget.FixedTop(this,d)))}if(typeof c=="string"){e[c].apply(e,[].concat(b||[]))}})};a.fn.fixedtop.defaults={version:"1.0.0",prefix:"fixedtop",beforeRender:a.noop,errorRender:a.noop,afterRender:a.noop,container:null,width:"500px",z_index:null,resizeDelay:100,scrollDelay:200,animateDelay:200,onScroll:a.noop,onResize:a.noop,template:"<div class='container sl_all_bg fixed-box'></div>"};a.fn.fixedtop.Constructor=a.bootui.widget.FixedTop;a(document).on("fixedtop.widget.data-api",'[data-bs-toggle*="fixedtop"]',function(c){if(c.currentTarget=this){if(a(this).closest(".bootbox").size()>0){var b=a(this).closest(".bootbox");a(this).fixed({scrollElement:b,container:b,width:b.find(".modal-dialog").width(),z_index:b.css("z-index")||1058})}else{a(this).fixedtop({container:"#yhgnPage"})}}})}(jQuery));
