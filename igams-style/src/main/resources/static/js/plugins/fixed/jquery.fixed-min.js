(function(b){b.bootui=b.bootui||{};b.bootui.widget=b.bootui.widget||{};b.bootui.widget.Fixed=function(d,a){a.beforeRender.call(this,d);this.initialize.call(this,d,a);a.afterRender.call(this,d)};b.bootui.widget.Fixed.prototype={constructor:b.bootui.widget.Fixed,initialize:function(M,J){var H=this;this.$element=b(M);this.options=J;this.prefix=J.prefix;if(J.container&&b(J.container).size()==1){var v=b.isWindow(J.container);var F=J.placement.toLowerCase()||"right";b(M).addClass("fixed-"+F);var a=b.extend(true,{},{position:(v?"fixed":"relative"),"z-index":parseInt(J.z_index||1050)+5});if(b.trim(J.margin||"").length>0){b(M).css(""+F,parseInt(b.trim(J.margin))+"px")}function L(){var j=b.Deferred();b(M).css({width:J.width||"40px",height:J.height||"40px"});H.containerPosi=b(J.container).getPosition();H.containerRect=b(J.container).getBoundingRect();H.elementPosi=b(M).getPosition();switch(F){case"left":case"right":var c=J.height?J.height:H.containerPosi.height;b(M).css("height",J.position.height||c||H.elementPosi.height);var n=parseInt(J.position.top||"-1"),e=parseInt(J.position.bottom||"-1");var f=0;var m=Math.abs(H.containerPosi.height-H.elementPosi.height);if(Math.max(n,e)>0){if(n>=e){f=Math.min(m,n)}else{f=Math.abs(m)-e}}else{f=Math.abs(m)/2}b.extend(a,{top:f});break;case"top":case"bottom":var g=H.containerRect["padding-left"];var d=H.containerRect["padding-right"];var i=0;if(!J.width){if(v){i=b(window).width()}else{i=H.containerPosi.width-g-d-H.containerPosi.border}}else{i=J.width}b(M).css("width",J.position.width||i||H.elementPosi.width);var l=parseInt(J.position.left||"-1"),k=parseInt(J.position.right||"-1");var h=0;var m=Math.abs(H.containerPosi.width-H.elementPosi.width);if(Math.max(l,k)>0){if(l>=k){h=Math.min(m,l)}else{h=Math.abs(m)-k}}else{h=Math.abs(m)/2}b.extend(a,{left:h});break}b(M).css(a||{});return j.promise()}L();var K=H.containerRect["margin-top"];var B=H.containerRect["margin-left"];var w=B+b(M).outerWidth(true)*3/2;var y=K+b(M).outerHeight()*3/2;if(v){w+=Math.abs(Math.abs(H.elementPosi.left)-Math.abs(H.containerPosi.left));y+=Math.abs(Math.abs(H.elementPosi.top)-Math.abs(H.containerPosi.top))}var N=H.containerPosi.scrollTop;var A=H.containerPosi.scrollLeft;var G=true;var D=J.animateDelay!=0?(J.animateDelay||200):0;function I(){var c=b.Deferred();switch(F){case"left":case"right":if(!v){b(M).css({top:(N-K)+"px"})}if(N>=J.showPoint){if(G){G=false;b(M).width(0).show(0).animate({width:J.width||"40px"},D)}else{b(M).fadeIn(D)}}else{b(M).fadeOut(D)}break;case"top":case"bottom":if(!v){b(M).css({left:(A-B)+"px"})}if(A>=J.showPoint){if(G){G=false;b(M).height(0).show(0).animate({height:J.height||"40px"},D)}else{b(M).fadeIn(D)}}else{b(M).fadeOut(D)}break}return c.promise()}if(N>=y){I()}else{if(A>=w){I()}}var C=false;var z=J.scrollDelay!=0?(J.scrollDelay||100):0;H.scrollFunc=function(c){if(!C){H.scrollEvent=c;window.setTimeout(function(){N=b(this).scrollTop();A=b(this).scrollLeft();C=true},Math.abs(z-10))}};b(J.container).scroll(H.scrollFunc);H.scrollTimer=window.setInterval(function(){if(C){b.when(I()).done(function(){C=false;(J.onScroll||b.noop).call(this,H.scrollEvent)}).always(function(){})}},z);var x=false;var E=J.resizeDelay!=0?(J.resizeDelay||200):0;H.resizeFunc=function(c){if(!x){window.setTimeout(function(){x=true;H.resizeEvent=c},Math.abs(E-10))}};b(J.container).resize(H.resizeFunc);H.resizeTimer=window.setInterval(function(){},E)}else{throw new Error("Container is not a valid element!")}},destroy:function(){var a=this.options.container;var f=b.isWindow(a);b(a).unbind("scroll",this.scrollFunc);window.clearInterval(this.scrollTimer);b(a).unbind("resize",this.resizeFunc);window.clearInterval(this.resizeTimer);this.$element.off("."+this.prefix).removeData(this.prefix+".widget");var e=this.options.placement.toLowerCase()||"right";b(this.$element).removeClass("fixed-"+e)},setDefaults:function(a){b.extend(b.fn.tooltips.defaults,a)},getDefaults:function(a){return b.fn.tooltips.defaults}};b.fn.fixed=function(d){var a=b.grep(arguments||[],function(c,f){return f>=1});return this.each(function(){var c=b(this);var g=c.data("fixed.widget");if(!g&&d=="destroy"){return}if(!g){var h=b.extend(true,{},b.fn.fixed.defaults,c.data(),((typeof d=="object"&&d)?d:{}));c.data("fixed.widget",(g=new b.bootui.widget.Fixed(this,h)))}if(typeof d=="string"){g[d].apply(g,[].concat(a||[]))}})};b.fn.fixed.defaults={version:"1.0.0",prefix:"fixed",beforeRender:b.noop,errorRender:b.noop,afterRender:b.noop,placement:"right",container:window,width:"auto",height:"auto",margin:"2",showPoint:100,z_index:"1058",resizeDelay:100,scrollDelay:200,animateDelay:200,position:{},onScroll:b.noop,onResize:b.noop};b.fn.fixed.Constructor=b.bootui.widget.Fixed;b(document).on("focus.data-api",'[data-bs-toggle*="fixed"]',function(d){if(d.currentTarget=this){if(b(this).closest(".bootbox").size()>0){var a=b(this).closest(".bootbox");b(this).fixed({container:a,z_index:a.css("z-index")})}else{b(this).fixed({container:"#yhgnPage"})}}})}(jQuery));
