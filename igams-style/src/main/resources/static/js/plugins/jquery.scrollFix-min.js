(function(a){jQuery.fn.scrollFix=function(b,c){b=b||0;b=b=="top"?0:b;return this.each(function(){if(b=="bottom"){b=document.documentElement.clientHeight-this.scrollHeight}else{if(b<0){b=document.documentElement.clientHeight-this.scrollHeight+b}}var f=a(this),i=false,g,e,d=f.offset().left;c=c=="bottom"?c:"top";if(window.XMLHttpRequest){function h(){return(document.documentElement.scrollTop||document.body.scrollTop)+b-f.offset().top}a(window).scroll(function(){if(i===false){if((h()>=0&&c=="top")||(h()<=0&&c=="bottom")){i=f.offset().top-b;f.css({position:"fixed",top:b,left:d})}}else{if(c=="top"&&(document.documentElement.scrollTop||document.body.scrollTop)<i){f.css({position:"static"});i=false}else{if(c=="bottom"&&(document.documentElement.scrollTop||document.body.scrollTop)>i){f.css({position:"static"});i=false}}}})}else{a(window).scroll(function(){if(i===false){if((h()>=0&&c=="top")||(h()<=0&&c=="bottom")){i=f.offset().top-b;e=document.createElement("span");g=f[0].parentNode;g.replaceChild(e,f[0]);document.body.appendChild(f[0]);f[0].style.position="absolute"}}else{if((c=="top"&&(document.documentElement.scrollTop||document.body.scrollTop)<i)||(c=="bottom"&&(document.documentElement.scrollTop||document.body.scrollTop)>i)){f[0].style.position="static";g.replaceChild(f[0],e);e=null;i=false}else{f.css({left:d,top:b+document.documentElement.scrollTop})}}})}})}})(jQuery);
