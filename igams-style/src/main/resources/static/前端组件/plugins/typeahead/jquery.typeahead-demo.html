<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<TITLE> AutoComplete Document </TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="../../jquery-1.11.1-min.js"></script>
<script type="text/javascript" src="../bootstrap/js/bootstrap.min.js"></script>
<link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.typeahead-1.0.0.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	
	$('#demo').typeahead({
		//当前文本输入框中字符串达到该属性值时才进行匹配处理，默认：1
		minLength	:	1,
		//自动完成提示的最大结果集数量
		items		:	10,
		//指定延时毫秒数后，才正真向后台请求数据，以防止输入过快导致频繁向后台请求，默认：500
		delay		:	300, 
		//uery表示当前文本输入框中的字符串，可在该方法中通过ajax向后台请求数据（数组形式的json对象），然后将返回的对象作为process的参数
	   	source		:	function(query,process){
	      	/**var matchCount = this.options.items;
			var requestMap = {
				"queryModel.currentPage": 1,
				"queryModel.showCount"	: matchCount,
				"xh"					: query
			};
			返回结果集最大数量
	      	$.post("/data.json",requestMap,function(respData){
                return process(respData);
            });**/
			var respData = [
					{"key":"abc222008310011115","value":"塔吉古·艾白都拉"},
					{"key":"321321231","value":"132321"},
					{"key":"0001test","value":"test11"},
					{"key":"abc222008301011154","value":"冮怀德"},
					{"key":"abc222009307011044","value":"凃经纬"},
					{"key":"abc222007327012087","value":"凃静"},
					{"key":"abc222008314011212","value":"凃巧"},
					{"key":"abc222013326012001","value":"劉興宏"},
					{"key":"abc222012310022029","value":"勞詠怡"},
					{"key":"abc222013307011009","value":"吳昀潞"}
				];
			 process(respData);
        },
		//对返回数据的具体某个json对象转化为字符串格式，用以显示在提示列表中，返回值：字符串
        formatItem	:	function(item){
            return item["value"]+"("+item["key"]+")";
        },
		//选中提示列表某项 时，设置文本输入框中显示的值以及实际需要获取的值。返回值格式：
		//{'data-value':item["输入框显示值的item属 性"],'real-value':item["实际需要获取值的item属性"]}，后期可通过文本输入框的real-value属性获取该值
        setValue	:	function(item){
            return {'data-value':item["value"],'real-value':item["value"]};
        }
	 });
	
});
</script>
</head>
<body>
	<input type="text" id="demo" value="" style="width: 300px;height:30px; border: 1px solid; border-color: #ccc;cursor: text;"/>
</body>
</html>