<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>UI Widget filehandle Demo</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--jquery核心库+扩展库-->
<script type="text/javascript" src="../jquery-1.11.1-min.js"></script>
<script type="text/javascript" src="../jquery.browser.js"></script>
<script type="text/javascript" src="../utils/uiwidget.utils.commons-1.0.0.js"></script>
<!--template组件-js库+基础样式-->
<script type="text/javascript" src="../utils/uiwidget.utils.file-1.0.0.js"></script>
<script type="text/javascript" src="jquery.filehandle-1.0.0.js"></script>
<script type="text/javascript" src="lang/zh_CN.js"></script>
<script language="javascript" type="text/javascript">


jQuery(function($) {
	$("#filehandle").change(function(e) {
		var files = $(e.target).getFiles() || e.dataTransfer.files;
		$.filehandle(files,{
			// 可选择文件类型，默认全部类型；多个用;分割，如：*.gif;*.png;*.jpg;*.jpeg;*.bmp
			fileType 		: '*.xls;*.xlsx',
			// 单个文件最大:默认10M
			maxSize 		: "0.2MB",
			// 所有文件总共大小:默认100MB；换算关系： 1GB=1024MB; 1MB=1024KB; 1KB=1024BB（字节）; 1B = 8Byte
			maxTotal 		: "10MB",
			// 文件总个数超出总限制回调
			handleOverMaxCount	: function(message){
				alert(message);
			},
			// 单个文件不匹配要求文件类型回调
			handleInvalidType	: function(file,message){
				alert(message);
			},
			// 单个文件大小超出限制回调：该函数需要返回true|false，决定是否继续之后的逻辑
			handleOverSize 		: function(file,message){
				alert(message);
			},
			// 文件大小超出总限制回调
			handleOverTotal 	: function(message){
				alert(message);
			},
			// 每个文件的回调函数
			handleFile			: function(file){
				alert(file.name);
			}
		});
	});	
	
});
</script>
</head>
<body style="padding: 200px;">
	
	<input type="file" id="filehandle" value="dfsdasad"  style="width: 300px;*width:300px;" multiple="multiple" accept="image/gif,image.jpg"/>
	
	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
</body>
</html>