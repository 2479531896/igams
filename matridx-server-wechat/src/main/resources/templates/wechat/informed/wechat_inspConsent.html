<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="referrer" content="never">
	<meta content="webkit" name="renderer"/>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=yes">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="Copyright" content="matridx"/>
	<link rel="icon" href="/images/favicon.ico" type="image/x-icon"/>
	<title>录入信息</title>
	<link rel="stylesheet" href="/js/weui/jquery-weui.min.css">
	<link rel="stylesheet" href="/css/weui.css">
	<link rel="stylesheet" type="text/css" href="/css/base.css?v=20241230v3" />
	<link rel="stylesheet" type="text/css" href="/fonts/font-awesome-4.7.0/api/site.css?v=20250217v2" />
	<style>
		.row{
            display: block ;
        }
        @font-face {
            font-family: 'Glyphicons Halflings';
            src: url('/fonts/glyphicons-halflings-regular.eot');
            src: url('/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
        }
        .glyphicon {
            font-family: 'Glyphicons Halflings';
            font-style: normal;
            font-weight: normal;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
	</style>
	<style>
		/**蓝色按钮*/
		.weui-btn_bule,.weui-btn_primary {
			color: white;
			background-color: #00AFEC;
		}
		.weui-btn_bule:not(.weui-btn_disabled):visited,.weui-btn_primary:not(.weui-btn_disabled):visited {
			color: rgba(0, 208, 236, 0.98);
		}
		.weui-btn_bule:not(.weui-btn_disabled):active,.weui-btn_primary:not(.weui-btn_disabled):active {
			background-color: #00e4ec;
		}
		/**单选框、多选框样式*/
		.Radio input,
		.Checkbox input {
			display: none
		}
		.Radio label,
		.Checkbox label {
			padding: 0 3px;
			display: inline-block;
			cursor: pointer;
			position: relative
		}
		.Radio label:before,
		.Checkbox label:before {
			box-sizing: border-box;
			content: "";
			width: 18px;
			height: 18px;
			border-radius: 50%;
			border: 1px solid #999;
			margin: 0 2px;
			vertical-align: middle;
			display: inline-block;
			transition: 0.1S;
		}
		.Radio input:checked + label:before {
			border: 5px solid #00a4ff;
		}
		.Checkbox label:before {
			background: url(/images/ico_tick.svg) no-repeat center;
			background-size: 0;
			border-radius: 4px;
			transition: 0.2S;
		}
		.Checkbox input:checked + label:before {
			background-color: #00a4ff;
			background-size: 16px;
			border-color: #00a4ff;
		}
		.weui-cell {
			padding: 10px;
		}
		.weui-cell:before {
			right: 10px;
			left: 10px;
		}
		.weui-panel:before,.weui-form-preview:before {
			border-top: none;
		}
		.weui-panel:after,.weui-form-preview:after {
			border-bottom: none;
		}
		.weui-picker__indicator{
			background-color: #00afec21;
		}
		.weui-mask {
			visibility: visible;
		}
		.weui-panel_access .weui-panel__bd .weui-media-box .weui-panel {
			margin-top: 0
		}
		.weui-panel_access .weui-panel__hd:after {
			border-bottom: none;
		}
		.weui-media-box .weui-cell_swiped:before {
			border-top: none;
		}
		#ajaxForm .weui-cell__bd{
			padding-left: 20px;
		}
		.weui_loading_toast .weui-toast_content{
			font-size: 16px;
		}
	</style>
</head>
<body style="background-color: var(--weui-BG-0);" data-weui-theme="light">
<form id="ajaxForm" data-bs-toggle="validation" action="/wechat/addSaveConsentMap" onkeydown="if(event.keyCode==13){return false;}">
	<input type="hidden" id="sjid" name="sjid" th:value="${sjxxDto.sjid}"/>
	<input id="wbcxdm" type="hidden" name="wbcxdm" th:value="${wbcxdm}"/>
	<input type="hidden" id="actionFlag" name="actionFlag" th:value="${actionFlag}"/>
	<input type="hidden" id="ybbh" name="ybbh" th:value="${sjxxDto.ybbh}"/>
	<input type="hidden" id="xgsj" name="xgsj" th:value="${sjxxDto.xgsj}"/>
	<input type="hidden" id="ywlx" name="ywlx" th:value="${ywlx}"/>
	<input type="hidden" id="jcxmdms" name="jcxmdms" th:value="${jcxmdms}"/>
	<input type="hidden" id="jcxmlb" name="jcxmlb" th:value="${sjxxDto.jcxmlb}"/>
	<input type="hidden" id="newflg" name="newflg"/>
	<input type="hidden" id="wxid" name="wxid" th:value="${sjxxDto.wxid}"/>
	<input type="hidden" id="sfflg" th:value="${sjxxDto.sfsf}"/>
	<input type="hidden" id="message" th:value="${message}"/>
	<input type="hidden" id ="yblx" name="yblx" th:value="${sjxxDto.yblx}"/>
	<input type="hidden" name="sfws" id="sfws" th:value="${sjxxDto.sfws}"/>
	<!--支付检测项目json-->
	<input type="hidden" name="zfjcxm" id="zfjcxm"/>
	<div id="samplelist" hidden>
		<input class="t_yblx" type="hidden" th:id="${sample.csid}" th:csdm="${sample.csdm}"  th:each="sample:${samplelist}" th:extend_1="${sample.cskz1}" th:extend_2="${sample.cskz2}" th:csmc="${sample.csmc}">
	</div>
	<!--录单第二页-->
	<div id="hzxxInfo" class="page__bd">
		<div onclick="showInfo()" class="weui-cells__title">标本信息&nbsp;<span class="weui-icon-info-circle" style="color: #00AFEC"></span></div>
		<div style="margin: 10px;border-radius: 10px;">
			<!--基本信息-->
			<div class="weui-cells weui-cells_form" style="border-radius: 10px;margin: 0;font-size: medium">
				<!--标本类型，录单必填项-->
				<div class="weui-cell weui-cell_access">
					<div class="weui-cell__hd">
						<label th:style="${actionFlag=='1'?'color: darkgray;font-weight: bold;':''}">标本类型<span th:style="'color:'+${actionFlag=='1'?'#00AFEC':'red'}+';'">*</span></label>
					</div>
					<!--录单时显示内容-->
					<div th:if="${actionFlag!='1'}" class="weui-cell__bd" onclick="changeYblx()">
						<input class="weui-input" id="xzyblxmc" name="xzyblxmc" placeholder="请选择标本类型" readonly/>
					</div>
					<div th:if="${actionFlag!='1'}" class="weui-cell__ft"></div>
					<!--完善时显示内容-->
					<div th:if="${actionFlag=='1'}" class="weui-cell__bd">
						<input class="weui-input" th:style="${actionFlag=='1'?'color: darkgray;':''}" id="xzyblxmc" name="xzyblxmc" placeholder="请选择标本类型" readonly/>
					</div>
				</div>
				<!--其他标本类型，录单必填项-->
				<div class="weui-cell" id="qt">
					<div class="weui-cell__hd">
						<label th:style="${actionFlag=='1'?'color: darkgray;font-weight: bold;':''}">报告显示标本<span th:style="'color:'+${actionFlag=='1'?'#00AFEC':'red'}+';'">*</span></label>
					</div>
					<div class="weui-cell__bd">
						<input class="weui-input" th:style="${actionFlag=='1'?'color: darkgray;':''}" id="yblxmc" name="yblxmc" th:value="${sjxxDto.yblxmc}" placeholder="请填写报告显示标本" th:readonly="${actionFlag=='1'}"/>
					</div>
				</div>
				<!--标本体积，完善必填项-->
				<div class="weui-cell">
					<div class="weui-cell__hd">
						<label>标本体积<span th:style="'color:'+${actionFlag=='1'?'red':'#00AFEC'}+';'">*</span></label>
					</div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="text" id="ybtj" name="ybtj" th:value="${sjxxDto.ybtj}" placeholder="请填写标本体积"/>
					</div>
				</div>
				<!--采样日期，录单必填项-->
				<div class="weui-cell weui-cell_access">
					<div class="weui-cell__hd">
						<label th:style="${actionFlag=='1'?'color: darkgray;font-weight: bold;':''}">采样日期<span th:style="'color:'+${actionFlag=='1'?'#00AFEC':'red'}+';'">*</span></label>
					</div>
					<!--录单时显示内容-->
					<div th:if="${actionFlag!='1'}" class="weui-cell__bd" onclick="changeCyrq()">
						<input class="weui-input" type="text" id="cyrq" name="cyrq" th:value="${sjxxDto.cyrq}" placeholder="请选择采样日期" readonly/>
					</div>
					<div th:if="${actionFlag!='1'}" class="weui-cell__ft"></div>
					<!--完善时显示内容-->
					<div th:if="${actionFlag=='1'}" class="weui-cell__bd">
						<input class="weui-input" th:style="${actionFlag=='1'?'color: darkgray;':''}" type="text" id="cyrq" name="cyrq" th:value="${sjxxDto.cyrq}" placeholder="请选择采样日期" readonly/>
					</div>
				</div>
				<!--送检日期-->
				<div class="weui-cell weui-cell_access" onclick="changeSjrq()">
					<div class="weui-cell__hd">
						<label>送检日期&nbsp;</label>
					</div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="text" id="sjrq" name="sjrq" th:value="${sjxxDto.sjrq}" placeholder="请选择送检日期" readonly/>
					</div>
					<div class="weui-cell__ft"></div>
				</div>
				<!--临床症状、完善必填项-->
				<div class="weui-cell" style="align-items: flex-start;">
					<div class="weui-cell__hd">
						<label>临床症状<span th:style="'color:'+${actionFlag=='1'?'red':'#00AFEC'}+';'">*</span></label>
					</div>
					<div class="weui-cell__bd">
						<textarea class="weui-textarea" style="background-color: #F3F3F3;" id="lczz" name="lczz" th:text="${sjxxDto.lczz}" placeholder="请填写临床症状" rows="3"></textarea>
					</div>
				</div>
				<!--前期诊断、完善必填项-->
				<div class="weui-cell">
					<div class="weui-cell__hd">
						<label>&nbsp;前期诊断<span th:style="'color:'+${actionFlag=='1'?'red':'#00AFEC'}+';'">*</span><br>(基础疾病)</label>
					</div>
					<div class="weui-cell__bd">
						<input  class="weui-input" type="text" id="qqzd" name="qqzd" th:value="${sjxxDto.qqzd}" placeholder="请填写前期诊断"/>
					</div>
				</div>
			</div>
		</div>
		<div class="weui-cells__title" style="margin-top: 3px;">前期检测</div>
		<div style="margin: 10px;border-radius: 10px;">
			<!--前期检测-->
			<div class="weui-cells weui-cells_form" style="border-radius: 10px;margin: 0;font-size: small">
				<div class="weui-cell weui-cell_access qqjc" style="padding: 5px 10px;" th:each="delection,stat:${sjxxDto.sjqqjcs}" th:id="'t-'+${delection.csid}" th:cskz2="${delection.cskz2}">
					<div style="flex:1;">
						<label th:id="${delection.csid}" th:text="${delection.csmc}"></label>
					</div>
					<div style="flex:2;display: flex;">
						<div style="flex: 3;">
							<input class="weui-input" type="hidden" th:id="${delection.csid}" th:name="'sjqqjcs['+${stat.index}+'].yjxm'" th:value="${delection.csid}"/>
							<input class="weui-input" style="background-color: #F3F3F3;" type="text" th:id="${delection.csid}" th:name="'sjqqjcs['+${stat.index}+'].jcz'" th:value="${delection.jcz}" th:placeholder="${'请填写'+delection.csmc+'结果'}"/>
						</div>
						<div style="flex: 1;" th:if="${delection.cskz1 !=null && delection.cskz1!=''}">
							<span th:if="${delection.cskz1 !=null && delection.cskz1!=''}" th:text="${delection.cskz1}"/>
						</div>
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd">
						<label>(感染部位)</label>
					</div>
					<div class="weui-cell__bd">
						<textarea class="weui-textarea" style="background-color: #F3F3F3;" id="qqjc" name="qqjc" th:text="${sjxxDto.qqjc}" validate="{stringMaxLength:512}" placeholder="请填写前期检测(感染部位)" rows="3"></textarea>
					</div>
				</div>
			</div>
		</div>
		<div class="weui-cells__title">其它信息</div>
		<div style="margin: 10px;border-radius: 10px;">
			<!--基本信息-->
			<div class="weui-cells weui-cells_form" style="border-radius: 10px;margin: 0;font-size: medium">
				<!--近期用药-->
				<div class="weui-cell" style="align-items: flex-start;">
					<div class="weui-cell__hd">
						<label>近期用药</label>
					</div>
					<div class="weui-cell__bd">
						<textarea class="weui-textarea" style="background-color: #F3F3F3;" id="jqyy" name="jqyy" th:text="${sjxxDto.jqyy}" validate="{stringMaxLength:512}" placeholder="请填写近期用药" rows="3"></textarea>
					</div>
				</div>
				<!--备注-->
				<div class="weui-cell" style="align-items: flex-start;">
					<div class="weui-cell__hd">
						<label>备　　注</label>
					</div>
					<div class="weui-cell__bd">
						<textarea class="weui-textarea" style="background-color: #F3F3F3;" id="bz" name="bz" th:text="${sjxxDto.bz}" validate="{stringMaxLength:512}" placeholder="请填写备注" rows="3"></textarea>
					</div>
				</div>
			</div>
		</div>
		<div style="display: flex;">
			<!--按钮 上一步-->
			<div class="weui-cells weui-cells_form" style="margin: 10px;flex: 1">
				<button class="weui-btn weui-btn_bule" style="width: 100%;" type="button" id="btn_prestep" onclick="preStep()">上一步</button>
			</div>
			<!--按钮 去支付-->
			<div class="weui-cells weui-cells_form" style="margin: 10px;flex: 1">
				<button class="weui-btn weui-btn_bule" style="width: 100%;" type="button" id="info_pay" th:onclick="payModal([[${sjxxDto.sjid}]],[[${sjxxDto.ybbh}]],[[${sjxxDto.hzxm}]],'scan')">去支付</button>
			</div>
		</div>
		<!--按钮 保存-->
		<div class="weui-cells weui-cells_form" style="margin: 10px;">
			<button class="weui-btn weui-btn_default" style="width: 100%;border: 1px solid #00AFEC;color: #00AFEC;" type="button" id="btn_complete" onclick="complete()">保存</button>
		</div>
	</div>
</form>

<script type="text/javascript" src="/js/jquery-3.6.1.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/weui/jquery-weui.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/weui/weui.js"></script>
<script type="text/javascript" src="/js/jquery-qrcode.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/wechat/flexible.js" charset="utf-8"></script>
<script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/wechat/informed/wechat_inspConsent.js?v=20240830"></script>
</body>
</html>