<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<script type="text/javascript" src="/js/plugins/bootstrap-fileinput/fileinput.min.js" charset="utf-8"></script>
		<script type="text/javascript" src="/js/plugins/bootstrap-fileinput/zh.js" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="/js/plugins/bootstrap-fileinput/fileinput.min.css" />
		<script type="text/javascript" th:src="@{${urlprefix}+'/js/systemmain/task/task_progress.js'}" charset="utf-8"></script>
		<style type="text/css">
			#fjcfbDto span:hover{
				cursor:pointer;
			}
			.f_button{
				background: white;
				border: 0;
			}
			.f_button:hover{
				border-width: 0px; 
 				border-radius: 3px;
 				background: #1E90FF;
 				cursor: pointer; 
 				outline: none;
 				font-family: Microsoft YaHei; 
 				color: white; 
 				font-size: 14px; 
			}
		</style>
	</head>
	<body>
		<div id="task_progress">
			<form id="ajaxForm" th:action="${urlprefix}+'/systemmain/task/progresssubmitSaveTask'" class="form-horizontal sl_all_form" method="post" theme="simple" data-bs-toggle="validation">
				<div class="body-content">
					<div class="panel panel-default">
						<div class="panel-heading">任务进度</div>
						<div class="panel-body">
							<div class="row">
								<input type="hidden" name="gzid" id="gzid" th:value="${gzglDto.gzid}"/>
								<input type="hidden" name="fzr" id="fzr" th:value="${gzglDto.fzr}"/>
								<input type="hidden" name="ywid" id="ywid" th:value="${gzglDto.ywid}"/>
								<input type="hidden" name="gzlx" id="gzlx" th:value="${gzglDto.gzlx}"/>
								<input type="hidden" name="rwid" id="rwid" th:value="${gzglDto.rwid}"/>
								<input type="hidden" name="access_token"/>
								<input type="hidden" name="fjids" id ="fjids">
								<input type="hidden" id ="gzzt" name="gzzt" th:value="${gzglDto.zt}">
								<input type="hidden" name="ywlx" id ="ywlx" th:value="${gzglDto.ywlx}">
								<input type="hidden" name="old_xmjdid" id ="old_xmjdid" th:value="${gzglDto.xmjdid}">
								<input type="hidden" name="urlprefix" id ="urlprefix" th:value="${urlprefix}">
								<input type="hidden" name="newJzrq" id ="newJzrq" th:value="${newJzrq}">
								<div class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">业务名称</label>
						    			<div class="col-sm-10 padding_t7">
						    				<a style="cursor:pointer;" th:@click.prevent="'viewtask(\''+${gzglDto.ywdz}+'\');'">
						    					<span th:text="${gzglDto.ywmc}"></span>
						    				</a>
						    			</div>
						   			</div>
								</div>
								<div class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">任务名称</label>
						    			<div class="col-sm-10 padding_t7" th:text="${gzglDto.rwmc}">&nbsp;</div>
						   			</div>
								</div>
								<div class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">期望完成日期</label>
						    			<div class="col-sm-10 padding_t7" th:text="${gzglDto.fqwwcsj}">&nbsp;</div>
						   			</div>
								</div>
								<div class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">状态</label>
						    			<div class="col-sm-10">
											<label class="radio-inline"><input type="radio" value="00" name="zt" th:checked="${'00' eq gzglDto.zt}" validate="{required:true}" data-clear="true">未完成</label>
											<label class="radio-inline"><input type="radio" value="15" name="zt" th:checked="${'15' eq gzglDto.zt}" validate="{required:true}" data-clear="true">无需完成</label>
											<label class="radio-inline"><input type="radio" value="80" name="zt" th:checked="${'80' eq gzglDto.zt}" validate="{required:true}" data-clear="true">完成</label>
											<label class="radio-inline"><input type="radio" value="10" name="zt" th:checked="${'80' eq gzglDto.zt}" validate="{required:true}" data-clear="true">完成无需确认</label>
					        		   	</div>
						   			</div>
								</div>
								<div id="jd" class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">进度</label>
						         		<div class="col-sm-2">
						         			<div class="input-group">
												<input type="text" id="dqjd" name="dqjd" th:value="${gzglDto.dqjd}" class="form-control" data-clear="true"/>
												<span class="input-group-addon">%</span>
											</div>
					        		   	</div>
						   			</div>
								</div>
								<div id="rwrq">
									<div class="col-md-4 col-sm-4">
										<div class="form-group">
											<label for="" class="col-md-6 control-label">计划开始日期</label>
											<div class="col-md-6">
												<input type="text" id="jhksrq" name="jhksrq" th:value="${rwrqDto.jhksrq}"  class="form-control" />
											</div>
										</div>
									</div>
									<div class="col-md-4 col-sm-4">
										<div class="form-group">
											<label for="" class="col-md-6 control-label">计划结束日期</label>
											<div class="col-sm-6">
												<input type="text" id="jhjsrq" name="jhjsrq"  th:value="${rwrqDto.jhjsrq}"  class="form-control" />
											</div>
										</div>
									</div>
								</div>
								<div class="col-md-4 col-sm-4">
						        	<div class="form-group">
						         		<label for="" class="col-md-6 control-label">预计工作量</label>
						         		<div class="col-md-6">
						         			<input type="text" id="yjgzl" name="yjgzl" th:value="${gzglDto.yjgzl}" data-clear="true"
												validate="{stringMaxLength:32}" class="form-control" />
						   				</div>
						   			</div>
								</div>
								<div class="col-md-4 col-sm-4">
						        	<div class="form-group">
						         		<label for="" class="col-md-6 control-label">实际工作量</label>
						         		<div class="col-sm-6">
						    				<input type="text" id="sjgzl" name="sjgzl" th:value="${gzglDto.sjgzl}" data-clear="true"
												validate="{stringMaxLength:32}" class="form-control" />
						   				</div>
						   			</div>
								</div>
								<div class="col-md-4 col-sm-4" id="jzDiv" style="display: none">
									<div class="form-group">
										<label for="" class="col-md-6 control-label"><span style="color: red;">*</span>阶段截止日期</label>
										<div class="col-sm-6">
											<input type="text" id="jzrq" name="jzrq" th:value="${rwrqDto.jzrq}"   class="form-control" />
										</div>
									</div>
								</div>
								<div id="tj" class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">确认人</label>
						         		<div class="col-sm-9">
									       <div class="input-group">
												<input id="zsxm" name="zsxm" type="text" data-provide="typeahead" data-items="5" class="form-control" />
							         			<input id="qrry" name="qrry" type="hidden" class="form-control" />
							         			<input type="hidden" name="ddid" id="ddid" class="form-control"/>
												<span class="input-group-btn">
													<button type="button" onclick="chooseFzr()" class="btn btn-primary">选择</button>
												</span>
											</div>
					        		   	</div>
						   			</div>
								</div>
								<div id="extend_work_div" th:url="${gzpzModel.ymlj}">
								</div>
								<div class="col-md-12 col-sm-12" th:if="${fjcfbDtos != null && fjcfbDtos.size() >0}">
						        	<div class="form-group">
						    			<div id="fjcfbDto" th:each="fjcfbDto:${fjcfbDtos}">
						    				<div th:id="${fjcfbDto.fjid}" >
						    					<label for="" class="col-sm-2 control-label" th:if="${fjcfbDtoStat.index == 0}" th:text="附件"></label>
						    					<label for="" class="col-sm-2 control-label" th:if="${fjcfbDtoStat.index > 0}"></label>
							    				<div class="col-sm-10 padding_t7">
							    					<label for="" th:text="${fjcfbDtoStat.index+1}+."></label>
							    					<a title="下载" th:@click.prevent="'xz(\''+${fjcfbDto.wjlj}+'\',\''+${fjcfbDto.wjm}+'\',\''+${fjcfbDto.fjid}+'\');'" >
								    					<span th:text="${fjcfbDto.wjm}"></span>
								    					<span class="glyphicon glyphicon glyphicon-save"></span>
							    					</a>&nbsp;&nbsp;
							    					<button title="删除" class="f_button" type="button">
							    						<span class="glyphicon glyphicon-remove" th:@click.prevent="'del(\''+${fjcfbDto.fjid}+'\',\''+${fjcfbDto.wjlj}+'\');'"></span>
							    					</button>&nbsp;&nbsp;
							    					<button title="预览" class="f_button" type="button">
							    						<span  class="glyphicon glyphicon-eye-open" th:@click.prevent="'yl(\''+${fjcfbDto.fjid}+'\',\''+${fjcfbDto.wjm}+'\');'"></span>
							    					</button>
							    				</div>
							    			</div>
						    			</div>
						   			</div>
								</div>
								<div class="col-md-12 col-sm-12">
									<div class="form-group">
										<label for="" class="col-sm-2 control-label">附件上传</label>
										<div class="col-sm-9 col-xs-9 col-md-9" style="line-height:28px;">
											<a href="javascript:void(0);" onclick="editfile()" id="file_btn" style="display:inline-block;width:100%;;border:1px solid #CCCCCC;border-radius:3px;">
						            			<span  id="fileclick" title="点击上传"  style="display:inline-block;width:100%;color:#A6A6A6;font-size:12px;padding-left:10px;">点击展开上传文件</span>
						            		</a>
						            		<div id="fileDiv" style="display:none;">
												<input id="task_file" name="task_file" type="file">
												<button class="btn btn-default" type="button" style="margin-left:77%;width:23%;margin-top:10px;" onclick="cancelfile()">隐藏</button>
											</div>
										</div>
									</div>
								</div>
								<div class="col-md-12 col-sm-12">
						        	<div class="form-group">
						         		<label for="" class="col-sm-2 control-label">备注</label>
						    			<div class="col-sm-9 padding_t7">
											<textarea id="bz" name="bz" th:value="${gzglDto.bz}" rows="5" th:text="${gzglDto.bz}" validate="{stringMaxLength:512}" class="form-control" />
				        		   		</div>
						   			</div>
								</div>
								<div class="clearfix"></div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</body>
</html>