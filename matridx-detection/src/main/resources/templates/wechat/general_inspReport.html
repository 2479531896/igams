<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="referrer" content="never">
    <meta content="webkit" name="renderer"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="Copyright" content="matridx"/>
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon"/>
    <title th:text="${jcsjDto.csmc}"></title>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/js/plugins/bootstrap-fileinput/phonefileinput.min.css">
    <link rel="stylesheet" href="/js/weui/jquery-weui.min.css">
    <link rel="stylesheet" href="/css/weui.css">
    <style>
        label{
            font-size: 16px;
            font-weight: normal;
            margin-bottom: 0
        }
        /**蓝色按钮*/
        .weui-btn_bule,.weui-btn_primary {
            color: white;
            background-color: #00AFEC;
        }
        .weui-btn_bule:not(.weui-btn_disabled):visited,.weui-btn_primary:not(.weui-btn_disabled):visited {
            color: rgba(0, 208, 236, 0.98);
        }
        .weui-btn_bule:not(.weui-btn_disabled):active,.weui-btn_primary:not(.weui-btn_disabled):active {
            background-color: #00e4ec;
        }
        /**单选框、多选框样式*/
        .Radio input,
        .Checkbox input {
            display: none
        }
        .Radio label,
        .Checkbox label {
            padding: 0 3px;
            display: inline-block;
            cursor: pointer;
            position: relative
        }
        .Radio label:before,
        .Checkbox label:before {
            box-sizing: border-box;
            content: "";
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 1px solid #999;
            margin: 0 2px;
            vertical-align: middle;
            display: inline-block;
            transition: 0.1S;
        }
        .Radio input:checked + label:before {
            border: 5px solid #00a4ff;
        }
        .Checkbox label:before {
            background: url(/images/ico_tick.svg) no-repeat center;
            background-size: 0;
            border-radius: 4px;
            transition: 0.2S;
        }
        .Checkbox input:checked + label:before {
            background-color: #00a4ff;
            background-size: 16px;
            border-color: #00a4ff;
        }
        /*选择框样式*/
        .RadioStyle input {
            display: none
        }
        .RadioStyle label {
            border: 2px solid #CCC;
            color: #666;
            padding: 1px 10px 1px 5px;
            line-height: 28px;
            min-width: 40px;
            text-align: center;
            float: left;
            margin: 2px;
            border-radius: 4px
        }
        .RadioStyle input:checked + label {
            background: url(/images/ico_checkon.svg) no-repeat right bottom;
            border: 2px solid #00a4ff;
            background-size: 21px 21px;
            color: #00a4ff
        }
        .RadioStyle input:disabled + label {
            opacity: 0.7;
        }
        #ajaxForm .weui-cell__bd{
            padding-left: 20px;
        }
        .sjdwlistclass .weui-cells:before{
            left: 0;
        }
        .sjdwlistclass .weui-cells .weui-cell:before{
            left: 0;
        }
        .weui-cell {
            padding: 10px;
        }
        .weui-cell:before {
            right: 10px;
            left: 10px;
        }
        .weui-cells:after,.weui-cells:before {
            border: none;
        }
        .weui-panel:before,.weui-form-preview:before {
            border-top: none;
        }
        .weui-panel:after,.weui-form-preview:after {
            border-bottom: none;
        }
        .weui-picker__indicator{
            background-color: #00afec21;
        }
        .weui-mask {
            visibility: visible;
        }
        .weui-panel_access .weui-panel__bd .weui-media-box .weui-panel {
            margin-top: 0
        }
        .weui-panel_access .weui-panel__hd:after {
            border-bottom: none;
        }
        .weui-media-box .weui-cell_swiped:before {
            border-top: none;
        }
        .weui_loading_toast .weui-toast_content{
            font-size: 16px;
        }
    </style>
</head>
<body style="background-color: #F5F5F5" data-weui-theme="light">
<form id="ajaxForm">
    <input type="hidden" id="fzjcid" name="fzjcid" th:value="${fzjcxxDto.fzjcid}"/>
    <input type="hidden" id="wxid" name="wxid" th:value="${wxid}"/>
    <input type="hidden" id="wbcxdm" name="wbcxdm" th:value="${wbcxdm}"/>
    <input type="hidden" id="fzjclx" name="fzjclx" th:value="${jcsjDto.csid}"/>
    <input type="hidden" id="fzjclxdm" name="fzjclxdm" th:value="${jcsjDto.csdm}"/>
    <input type="hidden" id="jcxmids" name="jcxmids" th:value="${fzjcxxDto.jcxmid}"/>
    <input type="hidden" id="jczxmids" name="jczxmids" th:value="${fzjcxxDto.jczxmid}"/>
    <input type="hidden" id="sjdwbj" name="sjdwbj" th:value="${fzjcxxDto.sjdwbj}"/>
    <div id="hzxxInfo" class="page__bd">
        <div style="margin: 8px;border-radius: 10px;">

            <div class="weui-cells__title" style="display: flex;margin-top: 8px;">
                <div style="flex: 1;">标本信息</div>
            </div>
            <div class="weui-cells weui-cells_form" style="border-radius: 10px;margin: 0;align-items: flex-start;">
                <!--样本编号-->
                <div class="weui-cell">
                    <div  class="weui-cell__hd">
                        <label>样本编号<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="ybbh" name="ybbh" th:value="${fzjcxxDto.ybbh}" class="weui-input" placeholder="请输入样本编号" validate="{required:true,stringMaxLength:32}"/>
                    </div>
                    <div class="weui-cell__ft">
                        <button id="getQRCode" type="button" class="weui-icon-scan" style="color: #00AFEC"></button>
                    </div>
                </div>
                <!--标本类型-->
                <div class="weui-cell weui-cell_access" onclick="changeYblx()">
                    <div class="weui-cell__hd">
                        <label>标本类型<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="xzyblxmc" name="xzyblxmc" class="weui-input" placeholder="请选择标本类型" readonly>
                        <input id ="yblx" name="yblx" type="hidden" th:value="${fzjcxxDto.yblx}" readonly/>
                    </div>
                    <div class="weui-cell__ft"></div>
                </div>
                <!--其他标本类型-->
                <div id="qt" class="weui-cell">
                    <div class="weui-cell__hd">
                        <label>其他标本类型<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="yblxmc" name="yblxmc" class="weui-input" th:value="${fzjcxxDto.yblxmc}" placeholder="请填写标本类型">
                    </div>
                </div>
            </div>

            <!--基本信息-->
            <div class="weui-cells__title" style="display: flex;margin-top: 10px;">
                <div style="flex: 1;">基本信息</div>
                <div style="flex: 1;text-align: right;height: 10px">
                </div>
            </div>
            <!--基本信息-->
            <div class="weui-cells weui-cells_form" style="border-radius: 10px;margin: 0;margin-top: 10px;">
                <!--姓名-->
                <div class="weui-cell">
                    <div class="weui-cell__hd">
                        <label>姓　　名<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="xm" name="xm" th:value="${fzjcxxDto.xm}" class="weui-input" placeholder="请填写姓名"/>
                    </div>
                </div>
                <!--性别-->
                <div class="weui-cell">
                    <div class="weui-cell__hd">
                        <label>性　　别<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd" style="display: flex">
						<span class="RadioStyle" th:each="gender,stat:${genderlist}" style="flex: 1;margin: 0 2px">
							<input th:id="${gender.csid}" th:value="${gender.csdm}" name="xb" type="radio" th:checked="${(fzjcxxDto.xb!=null &&fzjcxxDto.xb!='')?(gender.csdm eq fzjcxxDto.xb):(gender.sfmr eq '1')}" validate="{required:true}"/>
							<label th:for="${gender.csid}" th:style="${'position: absolute;top: 9%;font-size: small;width: '+(genderlist.size==3?'20%':'25%')+';'}" th:text="${gender.csmc}"></label>
						</span>
                    </div>
                </div>
                <!--年龄-->
                <div class="weui-cell weui-cell_access">
                    <div class="weui-cell__hd">
                        <label>年　　龄<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="nl" name="nl" class="weui-input" th:value="${fzjcxxDto.nl}"placeholder="请填写年龄">
                    </div>
<!--                    <div class="weui-cell__ft" onclick="chooseNldw()">-->
<!--                        <button type="button" class="weui-btn weui-btn_mini weui-btn_default" style="height: 25px;color: #00AFEC;width: 60px;line-height: 25px;">-->
<!--                            <input id="nldw" name="nldw" class="weui-input" th:value="${(fzjcxxDto.nldw!=null&&fzjcxxDto.nldw!='')?fzjcxxDto.nldw:'岁'}" validate="{required:true}" readonly>-->
<!--                        </button>-->
<!--                    </div>-->
                </div>
                <!--联系电话-->
                <div class="weui-cell">
                    <div class="weui-cell__hd">
                        <label>联系电话&nbsp;</label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="lxdh" name="lxdh" class="weui-input" type="text" th:value="${fzjcxxDto.lxdh}" validate="{stringMaxLength:64}" placeholder="请填写联系电话">
                    </div>
                </div>
                <!--送检医生-->
                <div class="weui-cell" >
                    <div class="weui-cell__hd">
                        <label>主治医师&nbsp;</label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="sjys" name="sjys" class="weui-input" type="text" th:value="${fzjcxxDto.sjys}" validate="{stringMaxLength:64}" placeholder="请填写主治医师">
                    </div>
                </div>
                <!--医生电话-->
            <!--<div class="weui-cell">
                    <div class="weui-cell__hd">
                        <label>医生电话&nbsp;</label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="ysdh" name="ysdh" class="weui-input" type="text" th:value="${fzjcxxDto.ysdh}" validate="{stringMaxLength:32}" placeholder="请填写医生电话">
                    </div>
                </div>-->
                <!--送检单位-->
                <div class="weui-cell weui-cell_access">
                    <div class="weui-cell__hd">
                        <label>医院名称&nbsp;</label>
                    </div>
                    <div class="weui-cell__bd" onclick="changeSjdw()">
                        <input id="yymc" name="yymc" class="weui-input" th:value="${fzjcxxDto.yymc}" placeholder="请选择医院名称" readonly>
                        <input id="sjdwid" name="sjdwid" type="hidden"  th:value="${fzjcxxDto.sjdw}" readonly>
                    </div>
                    <div class="weui-cell__ft"></div>
                </div>
                <!--报告显示单位-->
                <div class="weui-cell" id="qtdwInput">
                    <div class="weui-cell__hd">
                        <label>报告显示单位<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="sjdwmc" name="sjdwmc" class="weui-input" type="text" th:value="${fzjcxxDto.sjdwmc}" placeholder="请填写医院名称">
                    </div>
                </div>
                <!--科室-->
                <div class="weui-cell weui-cell_access">
                    <div class="weui-cell__hd">
                        <label>科　　室&nbsp;</label>
                    </div>
                    <div class="weui-cell__bd" onclick="chooseKs(true)">
                        <input id="ksmc" name="ksmc" class="weui-input" th:value="${fzjcxxDto.ksmc}" placeholder="请选择科室" readonly>
                        <input id ="ksid" name="ksid" type="hidden" th:value="${fzjcxxDto.ks}" readonly/>
                    </div>
                    <div class="weui-cell__ft"></div>
                </div>
                <!--其他科室-->
                <div class="weui-cell" id="qtksInput">
                    <div class="weui-cell__hd">
                        <label>报告显示科室<span style="color: red;">*</span></label>
                    </div>
                    <div class="weui-cell__bd">
                        <input id="qtks" name="qtks" class="weui-input" type="text" th:value="${fzjcxxDto.qtks}" placeholder="请填写报告单上需显示的科室">
                    </div>
                </div>
                <!--检测单位-->
                <div class="weui-cell weui-cell_access">
                    <div class="weui-cell__hd">
                        <label>检测单位&nbsp;</label>
                    </div>
                    <div class="weui-cell__bd" onclick="chooseJcdw(true)">
                        <input id="jcdwmc" name="jcdwmc" class="weui-input" th:value="${fzjcxxDto.jcdwmc}" placeholder="请选择检测单位" readonly>
                        <input id ="jcdwid" name="jcdwid" type="hidden" th:value="${fzjcxxDto.jcdw}" readonly/>
                    </div>
                    <div class="weui-cell__ft"></div>
                </div>
            </div>
            <div class="weui-cells weui-cells_form" style="border-radius: 10px;margin: 0;margin-top: 10px;">
                <!--检测项目，录单必填项-->
                <div class="weui-cell" style="align-items: flex-start">
                    <div class="weui-cell__hd">
                        <label>检测项目<span style="color:red">*</span></label>
                    </div>
                    <!--录单时显示内容-->
                    <div class="weui-cell__bd" id="jcxm">
                    </div>
                </div>
                <!--检测子项目，录单必填项-->
                <div class="weui-cell" style="align-items: flex-start" id="jczxmDiv" hidden>
                    <div class="weui-cell__hd">
                        <label >检测子项目<span style="color:red">*</span></label>
                    </div>
                    <!--录单时显示内容-->
                    <div class="weui-cell__bd"  id="jczxm">
                    </div>
                </div>
            </div>
            <div class="weui-cells weui-cells_form" style="margin: 10px;background-color: #F5F5F5">
                <button class="weui-btn weui-btn_default" type="button" style="border-radius: 20px;width: 100%;border: 1px solid #00AFEC;color: #00AFEC;background-color: #F5F5F5" id="btn_complete">保存</button>
            </div>
        </div>
    </div>
    <!--送检单位选择页面-->
    <div id="sjdwInfo" hidden style="display: block;margin: 8px;">
        <div class="weui-search-bar weui-search-bar_focusing" style="background-color: white;margin-bottom: 8px;border-radius: 15px;line-height: 20px;padding: 0;">
            <div class="weui-search-bar__box">
                <i class="weui-icon-search"></i>
                <input type="search" class="weui-search-bar__input" id="sjdwCxnr" placeholder="输入单位名称查询" required="" autocomplete="off" onkeydown="if(event.keyCode==13) {searchSjdwList(); return false;}">
                <a style="position: absolute;top: 45%;right: 8px;margin-top: -8px;font-size: small;color: #00AFEC;" onclick="searchSjdwList()">搜索</a>
            </div>
        </div>
        <div class="page__bd sjdwlistclass" style="font-size: 12px">
            <div class="weui-cells">
                <a class="weui-cell weui-cell_access" style="font-weight: bolder;padding: 10px 40px;">
                    <div class="weui-cell__bd" style="padding: 0;">
                        <p style="text-align: left">单位名称</p>
                    </div>
                </a>
                <div id="sjdwList">

                </div>
            </div>
        </div>
        <div id="sjdw_loading" class="weui-loadmore" hidden>
            <i class="weui-loading"></i>
            <span class="weui-loadmore__tips">正在加载</span>
        </div>
        <div id="sjdw_noInfo" class="weui-loadmore weui-loadmore_line" hidden>
            <span class="weui-loadmore__tips" style="background-color: #F5F5F5">暂无数据</span>
        </div>
        <div id="sjdw_loadComplete" class="weui-loadmore weui-loadmore_line weui-loadmore_dot" hidden>
            <span class="weui-loadmore__tips" style="background-color: #F5F5F5"></span>
        </div>
        <div class="weui-cells weui-cells_form" style="margin: 10px;">
            <a class="weui-btn weui-btn_default" style="width: 100%;border: 1px solid #00AFEC;color: #00AFEC;" onclick="sjdwBack()">返回</a>
        </div>
    </div>
</form>
<script type="text/javascript" src="/js/jquery-3.6.1.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/weui/jquery-weui.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/weui/weui.js"></script>
<script type="text/javascript" src="/js/jquery-qrcode.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/wechat/flexible.js" charset="utf-8"></script>
<script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/plugins/bootstrap-fileinput/fileinput.min.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/plugins/bootstrap-fileinput/zh.js" charset="utf-8"></script>
<script type="text/javascript" src="/js/wechat/general_inspReport.js?v=20231226"></script>
</body>
</html>