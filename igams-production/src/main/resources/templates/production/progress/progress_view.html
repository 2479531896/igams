<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <script type="text/javascript" src="/js/plugins/bootstrap-fileinput/fileinput.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="/js/plugins/bootstrap-fileinput/zh.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="/js/plugins/bootstrap-fileinput/fileinput.min.css" />
    <script type="text/javascript" th:src="@{${urlPrefix} + '/js/production/progress/progress_view.js'}" charset="utf-8"></script>
    <style type="text/css">
        table{
            table-layout: fixed;
        }
        td{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        th{
            font-weight:bold;
            text-align: center;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        li.showBit{
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    </style>
</head>
<body>
<ul class="nav nav-tabs sl_nav_tabs" role="tablist">
    <li  class="nav-item" >
        <a  class="nav-link active" href="#cpglTab" role="tab" data-bs-toggle="tab">成品需求计划信息</a>
    </li>
    <li class="nav-item" >
        <a  class="nav-link" href="#cpmxTab" role="tab" data-bs-toggle="tab">明细信息</a>
    </li>
</ul>
<form id="progress_view_ajaxForm" class="form-horizontal sl_all_form" method="post" theme="simple">
    <input type="hidden" name="access_token" />
    <input type="hidden" name="urlPrefix" id ="urlPrefix" th:value="${urlPrefix}">
    <div class="body-content tab-content">
        <div role="tabpanel" class="tab-pane fade active in" id="cpglTab"  aria-labelledby="profile-tab">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <label for="" class="col-sm-6 col-xs-6 col-md-6 control-label">
                                    需求单号 </label>
                                <div class="col-sm-6 col-xs-6 col-md-6 padding_t7">
                                    <span th:text="${cpxqjh.xqdh}" />
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <label for="" class="col-sm-6 col-xs-6 col-md-6 control-label">
                                    申请人 </label>
                                <div class="col-sm-6 col-xs-6 col-md-6 padding_t7">
                                    <span th:text="${cpxqjh.sqrmc}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <label for="" class="col-sm-6 col-xs-6 col-md-6 control-label">
                                    申请部门 </label>
                                <div class="col-sm-6 col-xs-6 col-md-6 padding_t7">
                                    <span th:text="${cpxqjh.sqbmmc}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <label for="" class="col-sm-6 col-xs-6 col-md-6 control-label">
                                    需求日期 </label>
                                <div class="col-sm-6 col-xs-6 col-md-6 padding_t7">
                                    <span th:text="${cpxqjh.xqrq}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <div class="form-group">
                                <label for="" class="col-sm-3 col-xs-3 col-md-3 control-label">
                                    预计用途 </label>
                                <div class="col-sm-9 col-xs-9 col-md-9 padding_t7">
                                    <span th:text="${cpxqjh.yjyt}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <div class="form-group">
                                <label for="" class="col-sm-3 col-xs-3 col-md-3 control-label">
                                    备&nbsp;&nbsp;&nbsp;&nbsp;注 </label>
                                <div class="col-sm-9 col-xs-9 col-md-9 padding_t7">
                                    <span th:text="${cpxqjh.bz}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <div class="form-group">
                                <label for="" class="col-sm-3 col-xs-3 col-md-3 control-label">
                                    生产评审 </label>
                                <div class="col-sm-9 col-xs-9 col-md-9 padding_t7">
                                    <span th:text="${cpxqjh.scps}" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <div class="form-group">
                                <div id="fjcfbDto" th:if="${fjcfbDtos != null && fjcfbDtos.size() >0}" th:each="fjcfbDto:${fjcfbDtos}">
                                    <div th:id="${fjcfbDto.fjid}" >
                                        <label for="" class="col-md-3 col-sm-3 control-label" th:if="${fjcfbDtoStat.index == 0}" th:text="附件："></label>
                                        <label for="" class="col-md-3 col-sm-3 control-label" th:if="${fjcfbDtoStat.index > 0}"></label>
                                        <div class="col-md-9 col-sm-9 padding_t7">
                                            <label for="" th:text="${fjcfbDtoStat.index+1}+."></label>
                                            <a title="下载" th:onclick="xz([[${fjcfbDto.fjid}]]);" >
                                                <span th:text="${fjcfbDto.wjm}"></span>&nbsp;
                                                <span class="glyphicon glyphicon glyphicon-save"></span>
                                            </a>&nbsp;&nbsp;
<!--                                            <a title="删除" class="f_button" type="button">-->
<!--                                                <span class="glyphicon glyphicon-remove" th:onclick="del([[${fjcfbDto.fjid}]],[[${fjcfbDto.wjlj}]]);"></span>-->
<!--                                            </a>&nbsp;&nbsp;-->
                                            <a title="预览" class="f_button" type="button">
                                                <span class="glyphicon glyphicon-eye-open" th:onclick="view([[${fjcfbDto.fjid}]],[[${fjcfbDto.wjm}]]);"></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="form-group">
                                <div id="fjcfbDto_t" th:if="${fjcfbDtos_t != null && fjcfbDtos_t.size() >0}"
                                     th:each="fjcfbDto_t:${fjcfbDtos_t}">
                                    <label for="" class="col-sm-3 col-md-3 col-xs-3 control-label"
                                           th:if="${fjcfbDto_tStat.index == 0}">附件（会议记录）</label>
                                    <label for="" class="col-sm-3 col-md-3 col-xs-3 control-label"
                                           th:if="${fjcfbDto_tStat.index > 0}"></label>
                                    <div class="col-sm-9 col-xs-9 col-md-9" style="padding-top: 6px;">
                                        <label for="" th:if="${fjcfbDtos_t.size() > 1}" th:text="${fjcfbDto_tStat.index+1}+."></label>
                                        <a title="下载" th:onclick="xz([[${fjcfbDto_t.fjid}]]);"> <span
                                                th:text="${fjcfbDto_t.wjm}"></span> <span class="glyphicon glyphicon glyphicon-save"></span>
                                        </a>&nbsp;&nbsp; <a title="预览" th:onclick="view([[${fjcfbDto_t.fjid}]],[[${fjcfbDto_t.wjm}]])">
                                        <span class="glyphicon glyphicon-eye-open"></span>
                                    </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div role="tabpanel" class="tab-pane fade" id="cpmxTab" aria-labelledby="profile-tab">
            <div class="panel-body" th:if="${mxlist !=null && mxlist.size() > 0}" th:each="dto:${mxlist}">
                <table border="1" cellspacing="0" cellpadding="0" class="table table-hover table-bordered table-hidden" style="text-align: left;">
                    <tr>
                        <td class="showBit" style="width:35px;">
                            <li class="showBit" th:title="'物料编码：'+${dto.wlbm}" th:text="'物料编码：'+${dto.wlbm}" />
                            <li class="showBit" th:title="'物料名称：'+${dto.wlmc}" th:text="'物料名称：'+${dto.wlmc}" />
                        </td>
                        <td style="width:18px;">
                            <li class="showBit" th:title="'生产数量：'+${dto.scsl}" th:text="'生产数量：'+${dto.scsl}" />
                            <li class="showBit" th:title="'需求数量：'+${dto.sl}" th:text="'需求数量：'+${dto.sl}" />
                        </td>
                        <td style="width:30px;">
                            <li class="showBit" th:title="'规格：'+${dto.gg}" th:text="'规格：'+${dto.gg}" />
                            <li class="showBit" th:title="'单位：'+${dto.jldw}" th:text="'单位：'+${dto.jldw}" />
                        </td>
                        <td style="width:50px;">
                            <li class="showBit" th:title="'是否生产：'+${dto.sfscmc}" th:text="'是否生产：'+${dto.sfscmc}" />
                            <li class="showBit" th:title="'批量要求：'+${dto.yq}" th:text="'批量要求：'+${dto.yq}" />
                        </td>
                        <td style="width:20px;">
                            <li class="showBit" th:title="'生产商：'+${dto.scs}" th:text="'生产商：'+${dto.scs}" />
                        </td>
                    </tr>
                </table>
                <table border="1" cellspacing="0" cellpadding="0" class="table table-hover table-bordered table-hidden" style="text-align: center;">
                    <tr style="background-color: #63a3ff;">
                        <th style="width:1px;"><span th:text="序号" /></th>
                        <th style="width:100px;"><span th:text="序列号" /></th>
                        <th style="width:100px"><span th:text="生产数量" /></th>
                        <th style="width:50px"><span th:text="状态" /></th>
                    </tr>
                    <div th:if="${dto.sczlmxDtos != null && dto.sczlmxDtos.size() >0}" th:each="sczlmxDto:${dto.sczlmxDtos}">
                        <tr>
                            <td><span th:title="${sczlmxDtoStat.index+1}" th:text="${sczlmxDtoStat.index+1}"/></td>
                            <td><span th:title="${sczlmxDto.xlh}" th:text="${sczlmxDto.xlh}"/></td>
                            <td><span th:title="${sczlmxDto.scsl}" th:text="${sczlmxDto.scsl}"/></td>
                            <td><span th:title="${sczlmxDto.ztmc}" th:text="${sczlmxDto.ztmc}"/></td>
                        </tr>
                    </div>
                </table>
                <hr>
            </div>
        </div>
    </div>
</form>
</body>
</html>