<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="/css/bootstrap.css?v=20250110" />
		<link rel="stylesheet" type="text/css" href="/css/iconfont.css" />
		<link rel="stylesheet" type="text/css" href="/css/animate.css" />
		<link rel="stylesheet" type="text/css" href="/css/buttons.css" />
		<script type="text/javascript" src="/js/jquery-3.6.1.min.js"></script>
		<link rel="stylesheet" type="text/css" href="/fonts/font-awesome-4.7.0/css/font-awesome.min.css" />
		<!--jQuery常用工具扩展库：基础工具,资源加载工具,元素尺寸相关工具 -->
		<script type="text/javascript" src="/js/jquery.utils.contact-min.js" charset="utf-8"></script>
		<!--jQuery基础工具库：$.browser,$.cookie,$.actual等 -->
		<script type="text/javascript" src="/js/jquery.plugins.contact-min.js?v=20220905" charset="utf-8"></script>
		<script type="text/javascript" src="/js/jquery-ui-custom.contact-min.js"></script>

		<!--Bootbox弹窗插件-->
		<link rel="stylesheet" type="text/css" href="/js/plugins/bootbox/css/bootbox-min.css" />
		<script src="/js/plugins/bootbox/bootbox.concat-min.js?v=20220905" type="text/javascript" charset="utf-8"></script>
		<script src="/js/plugins/bootbox/lang/zh_CN-min.js" type="text/javascript" charset="utf-8"></script>

		<!--bootstrap-->
		<script type="text/javascript" src="/js/bootstrap.min.js" charset="utf-8"></script>
		<!--提交共通-->
		<script src="/js/common/comdefine.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="/css/v5_style.css" />
		<link rel="stylesheet" type="text/css" href="/css/basephone.css" />
		<script type="text/javascript" src="/js/plugins/echarts/echarts.min.js" charset="utf-8"></script>
		<script type="text/javascript" src="/js/plugins/echarts/macarons.js"></script>
		<link href="/js/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet" type="text/css" />
		<script src="/js/plugins/bootstrap-table/bootstrap-table.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="/js/plugins/laydate/laydate.js" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="/js/plugins/laydate/theme/default/laydate.css" />
	<script type="text/javascript" th:src="@{${urlPrefix} + '/js/contract/contract/contract_phone_dingtalkView.js'}" charset="utf-8"></script>
	<style type="text/css">
		.hidden{display:none;}
		table{
			table-layout: fixed;
		}
		tr{
			width:100%;
		}
		.first th{
			border:1px solid #DDDDDD;
		}
		.first td{
			border:1px solid #DDDDDD;
		}
		.redHtmx{
			background-color:red !important;
		}
		body{
			overflow: auto;
		}
		.padding_t7{
			padding-top: 3px !important;
		}


		.flow_bar li {
			width: 80px;
		}

		.flow_bar li .flo_ico {
			/* 		    width: 30px;
                        height: 30px;
                        top:1px;*/
			top:0px;/*调整小球的位置*/
		}
		.flow_bar .flow_finish .flo_ico {
			width:10px;
			height:10px;/*调正小球的大小*/
		}
		.flow_bar li>div{
			width:80px;
			height:56px;
			height:6px;
			margin-bottom:40px;/*调整两行间隔*/
		}
		.flow_bar .flo_first>div{
			width:10px;
			height:6px;/*调整横线宽度*/
		}
		.flow_bar .flo_first h5{
			left:-16px;
		}
		.flow_bar li h5{
			top:19px;
			width:43px;
			/*  left:43px; */
		}
		.h5, h5 {
			font-size: 12px;
		}
		.table_sh td{
			padding:0px !important;
		}
		b{
			/* font-size:60px; */
			margin:16px;
		}
		th{
			font-size:12px;
			padding:4px !important;
		}
		.tab{
			border: 1px solid #DEDEDE;
			width:100%;
		}
		.tab thead tr{
			background-color: #63a3ff;
			height: 30px;
			color:#000;

		}
		.tab th{
			border: 1px solid #DEDEDE;
			padding-left:5px;
			padding-top:2px;
			font-size: 10px;
			font-weight: bold;
		}
		.tab td{
			border: 1px solid #DEDEDE;
			height:25px;
			padding-left:5px;
			padding-top:2px;
			font-size: 10px;
		}


		#tabAttainmentRate thead tr{
			background-color:#00B2EE;
			height:40px;
		}
		#tabAttainmentRate tr{
			cursor: pointer;
		}
		#tabAttainmentRate th{
			border:1px solid #C9C9C9;
			text-align: center;
		}
		#tabAttainmentRate td{
			border:1px solid #C9C9C9;
			text-align: center;
		}
		#tabAttainmentRate .qu_td{
			width:25%;
		}

		#tabAttainmentRate tbody .qu_td{
			background-color:#E0FFFF;
		}
		#tabAttainmentRate .other_td{
			width:25%;
		}
		.tab tbody tr:nth-of-type(even){ background:#FFFFFF;}偶数行
	</style>
	<link rel="stylesheet" type="text/css" href="/fonts/font-awesome-4.7.0/api/site.css?v=20241230v141" />
	<style>
		.row{
            display: block ;
        }
        @font-face {
            font-family: 'Glyphicons Halflings';
            src: url('/fonts/glyphicons-halflings-regular.eot');
            src: url('/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
        }
        .glyphicon {
            font-family: 'Glyphicons Halflings';
            font-style: normal;
            font-weight: normal;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
	</style>
</head>

<body style="overflow: auto;">
	<div id="con_view">
		<ul class="nav nav-tabs sl_nav_tabs" role="tablist">
<<<<<<< HEAD
			<li  class="nav-item" >
				<a  class="nav-link active" href="#wlTab" role="tab" data-bs-toggle="tab">物料价格</a>
			</li>
			<li class="nav-item" >
				<a  class="nav-link" href="#fjTab" role="tab" data-bs-toggle="tab">附件信息</a>
=======
			<li class="nav-item">
				<a class="nav-link active" href="#wlTab" role="tab" data-toggle="tab">物料价格</a>
			</li>
			<li class="nav-item">
				<a class="nav-link " href="#fjTab" role="tab" data-toggle="tab">附件信息</a>
>>>>>>> springcloud启用
			</li>
		</ul>
	<form id="ajaxForm" namespace="/contract"
		class="form-horizontal sl_all_form" method="post" theme="simple">
		<input type="hidden" name="access_token" />
		<input type="hidden" name="htid" id="htid" th:value="${htglDto.htid}"/>
		<input type="hidden" name="wjm" id ="wjm" th:value="${wjm}">
		<input type="hidden" name="sign" id ="sign" th:value="${sign}">
		<input type="hidden" name="url" id="url" th:value="${url}">
		<input type="hidden" name="urlPrefix" id="urlPrefix" th:value="${urlPrefix}">
		<input type="hidden" name="fjid" id="fjid" th:value="${fjid}">
		<input type="hidden" name="wjs" id="wjs" th:value="${wjs}">
		<input type="hidden" name="lswlid" id="lswlid" >
		<div class="body-content tab-content" >
			<div role="tabpanel" class="tab-pane fade active in" id="wlTab"  aria-labelledby="profile-tab">
				<div class="panel panel-default">
					<div class="panel-body" style="padding: 10px">
						<div class="col-md-12 col-sm-12 col-xs-12 text-left" style="padding: 0">
							<table class="tab"  style="width:100%;">
								<span style="color:orange;font-size:12px" th:if="${yhtbchtFlag=='1'}">温馨提示：<br>原数量表示原合同的数量，现数量表示现补充合同的数量<br><span style="color:red;">红色背景表示补充合同停用的物料!</span></span>
								<thead>
									<tr th:if="${yhtbchtFlag=='1'}">
										<th style="width:10%;">序</th>
										<th style="width:35%;">名称</th>
										<th th:if="${htglDto.htlx!='3'}" style="width:25%;">原数量<br>现数量</th>
										<th style="width:30%;">原单价<br>现单价</th>
										<th th:if="${htglDto.htlx!='3'}" style="width:25%;">原总价<br>现总价</th>
									</tr>
									<tr th:if="${yhtbchtFlag!='1'}">
										<th style="width:10%;">序</th>
										<th style="width:35%;">名称</th>
										<th th:if="${htglDto.htlx!='3'}" style="width:25%;">数量</th>
										<th style="width:30%;">单价</th>
										<th th:if="${htglDto.htlx!='3'}" style="width:25%;">总价</th>
									</tr>
								</thead>
								<tbody>
									<tr th:class="'tr first'+${list.sfty=='0'?' redHtmx':''}" th:if="${htmxlist.size()>0 && htmxlist != null && yhtbchtFlag=='1'}" th:each="list:${htmxlist}" th:onclick="viewImg([[${list.wlid}]])" th:id="${list.htmxid}">
										<td th:text="${listStat.index+1}" style="width:10%;"></td>
										<td th:text="${(list.wlbm==null?'':list.wlbm)+((list.wlmc==null or list.wlmc=='')?list.hwmc:list.wlmc)}" style="width:35%;"></td>
										<td th:if="${htglDto.htlx!='3'}"  style="width:25%;">
											<span th:text="${list.yhtmxsl+((list.jldw!=null&&list.jldw!='')?list.jldw:list.hwjldw==null?'':list.hwjldw)}"></span>
											<br>
											<span th:text="${list.sl+((list.jldw!=null&&list.jldw!='')?list.jldw:list.hwjldw==null?'':list.hwjldw)}"></span>
										</td>
										<td style="width:30%;">
											<span th:text="${list.yhtmxhsdj+'元'}"></span>
											<br>
											<span th:text="${list.hsdj+'元'}"></span>
										</td>
										<td th:if="${htglDto.htlx!='3'}"  style="width:25%;">
											<span th:text="${list.yhtmxhjje+'元'}"></span>
											<br>
											<span th:text="${list.hjje+'元'}"></span>
										</td>
									</tr>
									<tr class="tr first" th:if="${htmxlist.size()>0 && htmxlist != null && yhtbchtFlag!='1'}" th:each="list:${htmxlist}" th:onclick="viewImg([[${list.wlid}]])" th:id="${list.htmxid}">
										<td th:text="${listStat.index+1}" style="width:10%;"></td>
										<td th:text="${(list.wlbm==null?'':list.wlbm)+((list.wlmc==null or list.wlmc=='')?list.hwmc:list.wlmc)}" style="width:35%;"></td>
										<td th:if="${htglDto.htlx!='3'}" th:text="${list.sl+((list.jldw!=null&&list.jldw!='')?list.jldw:list.hwjldw==null?'':list.hwjldw)}" style="width:25%;"></td>
										<td th:text="${list.hsdj+'元'}" style="width:30%;"></td>
										<td th:if="${htglDto.htlx!='3'}" th:text="${list.hjje+'元'}" style="width:25%;"></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div role="tabpanel" class="tab-pane fade" id="fjTab" aria-labelledby="profile-tab" >
				<div class="panel panel-default">
					<div class="panel-body">
						<div class="row">
							<div class="form-group" >
								<div id="t_fjcfbDto" th:if="${htFjcfbDtos != null && htFjcfbDtos.size() >0}"  class="col-md-12 col-sm-12 col-xs-12"
									 th:each="t_fjcfbDto:${htFjcfbDtos}">
									<div class="col-md-2 col-sm-2 col-xs-3 " style="text-align: right">
										<label for=""
											   th:if="${t_fjcfbDtoStat.index == 0}" th:text="${htName}"></label>
										<label for=""
											   th:if="${t_fjcfbDtoStat.index > 0}">  </label>
									</div>
									<div class="col-md-10 col-sm-10 col-xs-9 h30">
										<label for="" th:if="${htFjcfbDtos.size() > 0}" th:text="${t_fjcfbDtoStat.index+1}+."></label>
										<a title="下载" th:onclick="xz([[${t_fjcfbDto.fjid}]],[[${t_fjcfbDto.wjm}]]);">
											<span th:text="${t_fjcfbDto.wjm}"></span>
											<span class="glyphicon glyphicon glyphicon-save"></span>
										</a>&nbsp;&nbsp; <a title="预览" th:onclick="yl([[${t_fjcfbDto.fjid}]],[[${t_fjcfbDto.wjm}]])">
										<span class="glyphicon glyphicon-eye-open"></span>
									</a>
									</div>
								</div>

							</div>
						</div>
						<div class="row">
							<div class="form-group" >
								<div id="bc_fjcfbDto" th:if="${bchtjcfbDtos != null && bchtjcfbDtos.size() >0}"  class="col-md-12 col-sm-12 col-xs-12"
									 th:each="bc_fjcfbDto:${bchtjcfbDtos}">
									<div class="col-md-2 col-sm-2 col-xs-3 "style="text-align: right">
										<label for=""
											   th:if="${bc_fjcfbDtoStat.index == 0}" th:text="${bchtName}"></label>
										<label for=""
											   th:if="${bc_fjcfbDtoStat.index > 0}">  </label>
									</div>
									<div class="col-md-10 col-sm-10 col-xs-9 h30">
										<label for="" th:if="${bchtjcfbDtos.size() > 0}" th:text="${bc_fjcfbDtoStat.index+1}+."></label>
										<a title="下载" th:onclick="xz([[${bc_fjcfbDto.fjid}]],[[${bc_fjcfbDto.wjm}]]);" >
										    <span th:text="${bc_fjcfbDto.wjm}"></span>
											<span class="glyphicon glyphicon glyphicon-save"></span>
										</a>&nbsp;&nbsp; <a title="预览" th:onclick="yl([[${bc_fjcfbDto.fjid}]],[[${bc_fjcfbDto.wjm}]])">
										<span class="glyphicon glyphicon-eye-open"></span>
									</a>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="form-group" >
								<div id="kj_fjcfbDto" th:if="${kjhtFjcfbDtos != null && kjhtFjcfbDtos.size() >0}"  class="col-md-12 col-sm-12 col-xs-12"
									 th:each="kj_fjcfbDto:${kjhtFjcfbDtos}">
									<div class="col-md-2 col-sm-2 col-xs-3 "style="text-align: right">
										<label for=""
											   th:if="${kj_fjcfbDtoStat.index == 0}">框架合同</label>
										<label for=""
											   th:if="${kj_fjcfbDtoStat.index > 0}">  </label>
									</div>
									<div class="col-md-10 col-sm-10 col-xs-9 h30">
										<label for="" th:if="${kjhtFjcfbDtos.size() > 0}" th:text="${kj_fjcfbDtoStat.index+1}+."></label>
										<a title="下载" th:onclick="xz([[${kj_fjcfbDto.fjid}]],[[${kj_fjcfbDto.wjm}]]);" >
										<span
												th:text="${kj_fjcfbDto.wjm}"></span>
											<span class="glyphicon glyphicon glyphicon-save"></span>
										</a>&nbsp;&nbsp; <a title="预览" th:onclick="yl([[${kj_fjcfbDto.fjid}]],[[${kj_fjcfbDto.wjm}]])">
										<span class="glyphicon glyphicon-eye-open"></span>
									</a>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="form-group" >
								<div id="bckj_fjcfbDto" th:if="${kjbchtFjcfbDtos != null && kjbchtFjcfbDtos.size() >0}"  class="col-md-12 col-sm-12 col-xs-12"
									 th:each="bckj_fjcfbDto:${kjbchtFjcfbDtos}">
									<div class="col-md-2 col-sm-2 col-xs-3 "style="text-align: right">
										<label for=""
											   th:if="${bckj_fjcfbDtoStat.index == 0}">框架合同补充协议</label>
										<label for=""
											   th:if="${bckj_fjcfbDtoStat.index > 0}">  </label>
									</div>
									<div class="col-md-10 col-sm-10 col-xs-9 h30">
										<label for="" th:if="${kjbchtFjcfbDtos.size() > 0}" th:text="${bckj_fjcfbDtoStat.index+1}+."></label>
										<a title="下载" th:onclick="xz([[${bckj_fjcfbDto.fjid}]],[[${bckj_fjcfbDto.wjm}]]);" >
										<span
												th:text="${bckj_fjcfbDto.wjm}"></span>
											<span class="glyphicon glyphicon glyphicon-save"></span>
										</a>&nbsp;&nbsp; <a title="预览" th:onclick="yl([[${bckj_fjcfbDto.fjid}]],[[${bckj_fjcfbDto.wjm}]])">
										<span class="glyphicon glyphicon-eye-open"></span>
									</a>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="form-group">
								<div id="fjcfbDto" th:if="${fjcfbDtos != null && fjcfbDtos.size() >0}"  class="col-md-12 col-sm-12 col-xs-12"
									 th:each="fjcfbDto:${fjcfbDtos}">
									<div class="col-md-2 col-sm-2 col-xs-3 " style="text-align: right">
										<label for=""
											   th:if="${fjcfbDtoStat.index == 0}">供应商</label>
										<label for=""
											   th:if="${fjcfbDtoStat.index > 0}">   </label>
									</div>
									<div class="col-md-10 col-sm-10 col-xs-9 h30">
										<label for="" th:if="${fjcfbDtos.size() > 0}" th:text="${fjcfbDtoStat.index+1}+."></label>
										<a title="下载" th:onclick="xz([[${fjcfbDto.fjid}]],[[${fjcfbDto.wjm}]]);" >
										<span
												th:text="${fjcfbDto.wjm}"></span>
											<span class="glyphicon glyphicon glyphicon-save"></span>
										</a>&nbsp;&nbsp; <a title="预览" th:onclick="yl([[${fjcfbDto.fjid}]],[[${fjcfbDto.wjm}]])">
										<span class="glyphicon glyphicon-eye-open"></span>
									</a>
									<span th:if="${fjcfbDto.lrrymc} !=null" th:text="${fjcfbDto.lrrymc}"></span>
									<span th:if="${fjcfbDto.lrsj} !=null" th:text="${fjcfbDto.lrsj.substring(0,19)+'录入'}"></span>
										<span th:if="${fjcfbDto.sfgq!=null&&fjcfbDto.sfgq=='已过期'}" th:text="${fjcfbDto.sfgq}" style="color: red;"></span>
										<span th:if="${fjcfbDto.sfgq!=null&&fjcfbDto.sfgq=='未过期'}" th:text="${fjcfbDto.sfgq}" style="color: green;"></span>
									</div>
													</div>
								<div id="fjcfbDto" class="col-md-12 col-sm-12 col-xs-12" th:if="${fjcfbDtos == null || fjcfbDtos.size() <=0}" style="text-align: center">
									<label>未上传任何供应商附件!</label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="panel panel-default" id="t_div" style="overflow-y: scroll;position: absolute;z-index:99;top:0;left:-380px;color:black;width:380px;height:100%;">
			<div class="panel-body">
				<div class="col-xs-12 col-sm-12 text-right">
					<i class="fa fa-times" aria-hidden="true" id="cancel" onclick="closeNav()"></i>
				</div>
				<div id="wljgxx" class="col-xs-12 col-sm-12">
					<div class="form-group">
						<div id="wlStatis_hsdjxx" style="height:400px"></div>
					</div>
				</div>
				<div class="col-md-12 col-sm-12" style="margin-top: 100px">
					<input id="cjrqstart" name="cjrqstart" style="border: 1px solid #ccc;border-radius: 4px;width: 40%" placeholder="开始日期" validate="{required:true}" />~
					<input id="cjrqend" name="cjrqend" style="border: 1px solid #ccc;border-radius: 4px;width: 40%" placeholder="结束日期" validate="{required:true}" />
					<button type="button" style="margin-left:5px;width: 10%;height: 80%  !important;padding: 0px" id="btn_query" class="btn btn-primary glyphicon glyphicon-zoom-in"></button>
				</div>
				<div id="rkmxTable" class="col-xs-12 col-sm-12" style="padding-left: 0px; padding-right: 0px;width: 372px;">

				</div>
			</div>
		</div>
	</form>
	</div>
</body>
</html>