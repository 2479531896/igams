<!DOCTYPE html>
<html lang="zh-cn">
<body>
<ul class="nav nav-tabs sl_nav_tabs" role="tablist">
    <li  class=" nav-item" >
        <a href="#basicInfoTab" role="tab" class="nav-link active"   data-bs-toggle="tab">基本信息</a>
    </li>
    <li class=" nav-item" >
        <a href="#roleInfoTab" role="tab" class="nav-link"   data-bs-toggle="tab">角色信息</a>
    </li>
    <li class=" nav-item" >
		<a href="#auditJobUserTab" role="tab" class="nav-link"   data-bs-toggle="tab">审批岗位</a>
	</li>
	<li class=" nav-item" >
		<a href="#organizationTab" role="tab" class="nav-link"   data-bs-toggle="tab">角色机构</a>
	</li>
</ul>
<form namespace="/systemrole" action="user_viewUser.html" method="post" id="userForm" theme="simple"
        class="form-horizontal sl_all_form">
    <div class="body-content tab-content">
        <div role="tabpanel" class="tab-pane fade active in" id="basicInfoTab" aria-labelledby="home-tab">
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-md-4 col-xs-4 control-label">用户名</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.yhm}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">真实姓名</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.zsxm}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">机构名称</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.jgmc}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">岗位名称</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.gwmc}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">钉钉ID</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.ddid}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">微信ID</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.wechatid}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">Group</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.grouping}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-xs-4 col-md-4 control-label">默认分组</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.mrfz}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-md-4 col-xs-4 control-label">是否锁定</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${(xtyhDto.sfsd eq '1')?'是':'否'}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-md-4 col-xs-4 control-label">登录IP</label>
                            <div class="col-sm-8 col-xs-8 col-md-8 padding_t7"><span th:text="${xtyhDto.dlip}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12">
                        <div class="form-group">
                            <label for="" class="col-sm-4 col-md-4 col-xs-4 control-label">登录时间</label>
                            <div class="col-sm-8 col-md-8 col-xs-8 padding_t7"><span th:text="${xtyhDto.dlsj}" /></div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <div id="t_fjcfbDto" th:if="${t_fjcfbDtos != null && t_fjcfbDtos.size() >0}"
                                 th:each="t_fjcfbDto:${t_fjcfbDtos}">
                                <label for="" class="col-sm-4 col-md-4 col-xs-4 control-label"
                                       th:if="${t_fjcfbDtoStat.index == 0}">签名</label>
                                <label for="" class="col-sm-4 col-md-4 col-xs-4 control-label"
                                       th:if="${t_fjcfbDtoStat.index > 0}"></label>
                                <div class="col-sm-8 col-xs-8 col-md-8" style="padding-top: 6px;">
                                    <label for="" th:if="${t_fjcfbDtos.size() > 1}" th:text="${t_fjcfbDtoStat.index+1}+."></label>
                                    <a title="下载" th:onclick="xz([[${t_fjcfbDto.fjid}]]);"> <span
                                            th:text="${t_fjcfbDto.wjm}"></span> <span class="glyphicon glyphicon glyphicon-save"></span>
                                    </a>&nbsp;&nbsp; <a title="预览" th:onclick="yl([[${t_fjcfbDto.fjid}]],[[${t_fjcfbDto.wjm}]])">
                                    <span class="glyphicon glyphicon-eye-open"></span>
                                </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="roleInfoTab" aria-labelledby="profile-tab">
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <div th:if="${yhjsDtos != null && yhjsDtos.size() >0}" th:each="yhjsDto:${yhjsDtos}" class="col-sm-6 col-md-6 col-xs-6">
							    <span th:text="${yhjsDto.jsmc}"/>
							</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div role="tabpanel" class="tab-pane fade" id="auditJobUserTab"aria-labelledby="profile-tab">
			<div class="panel-body">
				<div class="row">
					<div class="col-md-12 col-sm-12 col-xs-12">
				        <div class="form-group">
                            <div th:if="${yhjsDtos != null && yhjsDtos.size() >0}" th:each="yhjsDto:${yhjsDtos}" class="col-sm-12 col-md-12 col-xs-12" style="margin-bottom: 20px;">
							    <label for="" class="col-md-3 "><span th:text="${yhjsDto.jsmc}"></span>:</label>
							    <div class="col-md-9" ><span th:text="${yhjsDto.spgwmc}"></span></div>
							</div>
                        </div>
					</div>
				</div>
			</div>
		</div>
		<div role="tabpanel" class="tab-pane fade" id="organizationTab"aria-labelledby="profile-tab">
					<div class="panel-body">
						<div class="row">
							<div class="col-md-12 col-sm-12" >
								<div class="form-group">
		                            <div th:if="${yhjsDtos != null && yhjsDtos.size() >0}" th:each="yhjsDto:${yhjsDtos}" class="col-sm-12 col-md-12 col-xs-12" style="margin-bottom: 20px;">
									    <label for="" class="col-md-3 "><span th:text="${yhjsDto.jsmc}"></span>:</label>
									    <div class="col-md-9" ><span th:text="${yhjsDto.jgmc}"></span></div>
									</div>
		                        </div>
							</div>
						</div>
					</div>
				</div>
    </div>
</form>
    <script>
        function yl(fjid,wjm){
            var begin=wjm.lastIndexOf(".");
            var end=wjm.length;
            var type=wjm.substring(begin,end);
            if(type.toLowerCase()==".jpg" || type.toLowerCase()==".jpeg" || type.toLowerCase()==".jfif"||type.toLowerCase()==".png"){
                var url="/ws/sjxxpripreview?fjid="+fjid
                $.showDialog(url,'图片预览',viewPreViewConfig);
            }else if(type.toLowerCase()==".pdf"){
                var url= "/common/file/pdfPreview?fjid=" + fjid;
                $.showDialog(url,'文件预览',viewPreViewConfig);
            }else {
                $.alert("暂不支持其他文件的预览，敬请期待！");
            }
        }

        var viewPreViewConfig = {
            width        : "900px",
            height        : "800px",
            offAtOnce    : true,  //当数据提交成功，立刻关闭窗口
            buttons        : {
                cancel : {
                    label : "关 闭",
                    className : "btn-default"
                }
            }
        };

        function xz(fjid){
            jQuery('<form action="/common/file/downloadFile" method="POST">' +  // action请求路径及推送方法
                '<input type="text" name="fjid" value="'+fjid+'"/>' +
                '<input type="text" name="access_token" value="'+$("#ac_tk").val()+'"/>' +
                '</form>')
                .appendTo('body').submit().remove();
        }
    </script>
</body>
</html>